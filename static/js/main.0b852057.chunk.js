(this.webpackJsonpwalletredux=this.webpackJsonpwalletredux||[]).push([[0],{31:function(e,t,a){},35:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),s=a(26),i=a(12),o=(a(31),a(11)),u=a(33),d={email:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL":return{email:t.value};default:return e}},p=a(24),f={currencies:[],expenses:[]},v=function(e,t){var a=t.value,n=e.expenses.map((function(e,t){return e.id===a.id?t:e.id===a.id})).filter((function(e){return"number"===typeof e})),r=Object.assign(e.expenses[n],a),c=Object.assign(e.expenses,r);return console.log(c),c},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return{currencies:[],expenses:[].concat(Object(p.a)(e.expenses),[t.value])};case"DEL_EXPENSE":return{currencies:[],expenses:Object(p.a)(e.expenses.filter((function(e){return e.id!==t.value})))};case"EDIT_EXPENSE":return{currencies:[],expenses:Object(p.a)(v(e,t))};default:return e}},x=Object(o.c)({user:m,wallet:h}),b=Object(o.d)(x,Object(o.a)(u.a)),g=a(3),E=a(4),y=a.n(E),w=a(9),k=a(18),N=a(19),j=a(10),O=a(21),S=a(20),C=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.abrupt("return",t.json().then((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){return{type:"ADD_EXPENSE",value:e}},F=function(e){return{type:"EMAIL",value:e}},A=function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,C();case 3:n.exchangeRates=t.sent,delete n.totalValue,delete n.editState,delete n.expenseNumber,a(D(n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return{type:"DEL_EXPENSE",value:e}},R=function(e){return{type:"EDIT_EXPENSE",value:e}},L=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).validateEmail=n.validateEmail.bind(Object(j.a)(n)),n.state={email:"",password:"",itsOk:!0},n}return Object(N.a)(a,[{key:"validateEmail",value:function(){var e=this.state,t=e.email,a=e.password;if(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t)&&a.length>=6)return this.setState({itsOk:!1});this.setState({itsOk:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,c=t.itsOk,l=this.props,s=l.addEmail,i=l.history;return r.a.createElement("div",{className:"flex bg-loginBackground bg-100% bg-center bg-no-repeat h-screen items-center justify-center"},r.a.createElement("div",{className:" flex h-3/4 w-3/4 lg:h-auto lg:w-auto justify-center rounded-lg shadow-xl"},r.a.createElement("form",{className:"flex w-auto h-auto m-12 items-center justify-center flex-col space-y-10"},r.a.createElement("img",{className:"animate-pulse",src:"https://fontmeme.com/permalink/210119/644a7733ccebbad700b49720d0797475.png",alt:"pixel-fonts"}),r.a.createElement("label",{className:"label-class-login",htmlFor:"email"},"Email",r.a.createElement("input",{className:"input-class focus:outline-none focus:border-green-400 lg:w-72 lg:text-lg",type:"email","data-testid":"email-input",id:"email",value:a,placeholder:"Digite seu email",onChange:function(t){var a=t.target;e.setState({email:a.value})},onKeyUp:this.validateEmail,required:!0})),r.a.createElement("label",{className:"label-class-login",htmlFor:"password"},"Senha",r.a.createElement("input",{className:"input-class focus:outline-none focus:border-green-400 lg:w-72 lg:text-lg",type:"password","data-testid":"password-input",id:"password",value:n,placeholder:"Digite sua senha",onChange:function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target,t.next=3,e.setState({password:n.value});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onKeyUp:this.validateEmail,required:!0})),r.a.createElement("button",{className:"disabled:opacity-50 disabled:hover:from-current login-button hover:from-pink-500 duration-500",type:"button",onClick:function(){s(a),i.push("./carteira")},disabled:c},"Entrar"))))}}]),a}(r.a.Component),M=F,z=Object(i.b)(null,(function(e){return{addEmail:function(t){return e(M(t))}}}))(L),T=a(22),V=a(23),_=a(34),P=function(e,t,a){var n=Object.entries(t).find((function(t){return t[0]===e}));if(a){var r=n[1].ask,c=a.value*r;n[1].converted=parseInt(100*c,10)/100}return n[1].newAsk=(Math.round(1e3*n[1].ask)/1e3).toFixed(3),n[1]},X=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).fetchApi=n.fetchApi.bind(Object(j.a)(n)),n.totalField=n.totalField.bind(Object(j.a)(n)),n.findObjectId=n.findObjectId.bind(Object(j.a)(n)),n.state={exchangeRates:{},id:0,value:0,description:"",currency:"USD",method:"Cart\xe3o de cr\xe9dito",tag:"Lazer",totalValue:0,editState:!1,expenseNumber:0,darkMode:!1},n}return Object(N.a)(a,[{key:"componendividMount",value:function(){this.fetchApi()}},{key:"fetchApi",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:e.sent.json().then((function(e){return t.setState({exchangeRates:e})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"totalField",value:function(){var e=this.props.wallet.expenses.reduce((function(e,t){var a=t.currency,n=t.exchangeRates,r=t.value,c=a,l=Object.entries(n).find((function(e){return e[0]===c}));return parseInt(1e4*e,10)/1e4+parseInt(1e4*l[1].ask,10)/1e4*(parseInt(1e4*r,10)/1e4)}),0);this.setState({totalValue:e})}},{key:"findObjectId",value:function(e){return this.props.wallet.expenses.find((function(t){return t.id===e}))}},{key:"render",value:function(){var e=this,t=P,a=this.props,n=a.user,c=a.addExpense,l=a.wallet,s=a.delExpense,i=a.editExpense,o=l.expenses,u=n.email,d=this.state,m=d.exchangeRates,p=d.value,f=d.description,v=d.currency,h=d.method,x=d.tag,b=d.totalValue,g=d.editState,E=d.expenseNumber,k=d.id,N=d.darkMode;return r.a.createElement("div",{className:"transition-all duration-500 max-h-full min-h-screen ".concat(g&&"bg-gray-100"," ").concat(N&&"bg-gray-600")},r.a.createElement("div",{className:"container flex w-screen items-center justify-center mx-auto flex-col"},r.a.createElement("header",{className:"transition-all duration-500 flex flex-col rounded-xl w-11/12 bg-white items-center p-4 shadow-sm ".concat(N&&"bg-gray-700")},r.a.createElement("div",{className:"flex w-full flex-row justify-between items-center"},r.a.createElement("div",null),r.a.createElement("h1",{className:"font-bold ml-5 font-mono self-center ".concat(N?"text-gray-200":"text-gray-500"),"data-testid":"email-field"},"Email do usu\xe1rio"),r.a.createElement(T.a,{onClick:function(){if(!N)return e.setState({darkMode:!0});e.setState({darkMode:!1})},className:"duration-500 transform fill-current text-gray-200 hover:scale-125 transition-all mr-50 ".concat(!N&&"fill-current text-yellow-300 animate-pulse"),icon:N?_.a:V.b,size:"2x"})),r.a.createElement("h1",{className:"font-bold ".concat(N?"text-gray-200":"text-gray-500"," font-mono")},u),r.a.createElement("p",{className:"font-mono font-bold ".concat(N?"text-gray-200":"text-gray-500"),"data-testid":"total-field"},"Valor total"),r.a.createElement("div",{className:"flex flex-row"},r.a.createElement("p",{className:"font-mono font-bold text-green-400"},"R$:",Number(parseInt(100*b,10)/100).toLocaleString("br")),r.a.createElement("p",{className:"font-mono font-bold text-green-400","data-testid":"header-currency-field"},"BRL"))),r.a.createElement("form",{className:"".concat(N?"bg-gray-700":"bg-white"," \n              flex flex-col lg:flex-row lg:flex-wrap my-4\n              items-center justify-center shadow-inner w-11/12\n              transition-all duration-500 rounded-xl\n              ").concat(g&&"edit-state")},r.a.createElement("label",{className:"".concat(N?"label-class-dark":"label-class text-gray-500"," wallet rounded-lg shadow-sm p-2 m-2"),htmlFor:"expense"},"Despesa",r.a.createElement("input",{className:"".concat(N?"input-class-dark":"input-class text-gray-700"," p-2 m-2 outline-none focus:border-green-400 sm:w-3/4 sm:text-lg"),type:"number",onChange:function(t){var a=t.target;return e.setState({value:a.value})},id:"expense","data-testid":"value-input",value:p})),r.a.createElement("label",{className:"".concat(N?"label-class-dark":"label-class text-gray-500"," wallet rounded-lg shadow-sm p-2 m-2"),htmlFor:"expenseDescribe"},"Descri\xe7\xe3o",r.a.createElement("textarea",{placeholder:"Descri\xe7\xe3o do gasto",className:"outline-none ".concat(N?"input-class-dark":"input-class text-gray-700"," p-2 m-2  sm:w-3/4 sm:text-lg"),type:"text",onChange:function(t){var a=t.target;return e.setState({description:a.value})},id:"expenseDescribe","data-testid":"description-input",value:f})),r.a.createElement("label",{className:"".concat(N?"label-class-dark":"label-class text-gray-500"," wallet rounded-lg shadow-sm p-2 m-2"),htmlFor:"currency"},"C\xe2mbio",r.a.createElement("select",{className:"".concat(N?"input-class-dark":"input-class text-gray-800 bg-white"," p-2 m-2 outline-none focus:border-green-400 sm:w-3/4 sm:text-sm"),onChange:function(t){var a=t.target;return e.setState({currency:a.value})},value:v,"data-testid":"currency-input",id:"currency"},Object.keys(m).map((function(e){return"USDT"!==e?r.a.createElement("option",{className:"text-center rounded-lg",key:e,"data-testid":e,value:e},e):"xuxu"})))),r.a.createElement("label",{className:"".concat(N?"label-class-dark":"label-class text-gray-500"," wallet rounded-lg shadow-sm p-2 m-2"),htmlFor:"paymentForm"},"Forma de pagamento",r.a.createElement("select",{className:"".concat(N?"input-class-dark":"input-class text-gray-800 bg-white"," p-2 m-2 outline-none focus:border-green-400 sm:w-3/4 sm:text-sm"),type:"text",id:"paymentForm","data-testid":"method-input",onChange:function(t){var a=t.target;return e.setState({method:a.value})},value:h},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{className:"".concat(N?"label-class-dark":"label-class text-gray-500"," wallet rounded-lg shadow-sm p-2 m-2"),htmlFor:"type"},"Tipo do gasto",r.a.createElement("select",{className:"".concat(N?"input-class-dark":"input-class text-gray-800 bg-white"," p-2 m-2 outline-none focus:border-green-400 sm:w-3/4 sm:text-sm"),type:"text",id:"type","data-testid":"tag-input",onChange:function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target,e.setState({tag:n.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),value:x,onMouseLeave:this.fetchApi},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{className:"expense-button ".concat(g&&"edit-moment"),type:"button",onClick:Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=7;break}return t.next=3,i(e.state);case 3:e.totalField(),e.setState({id:E,editState:!1,description:"",value:0}),t.next=12;break;case 7:return t.next=9,c(e.state);case 9:return t.next=11,e.setState({description:"",value:0,expenseNumber:E+1,id:k+1});case 11:e.totalField();case 12:case"end":return t.stop()}}),t)})))},g?"Editar Despesa":"Adicionar Despesa"))),!g&&r.a.createElement("div",{className:"flex w-screen"},r.a.createElement("div",{className:"flex w-screen items-center justify-center content-center flex-col sm:flex-wrap sm:flex-row"},o.map((function(a){return r.a.createElement("div",{className:"".concat(N?"card-container-dark":"card-container"),key:a.id},r.a.createElement("div",{className:"flex w-11/12 flex-row justify-center items-center"},r.a.createElement("div",{className:"".concat(N?"description-class-dark":"description-class"),key:"description"},a.description)),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"Tipo do gasto"),r.a.createElement("div",{className:"".concat(N?"card-value-dark":"card-value"),key:"tag"},a.tag)),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title break-words")},"Forma de pagamento"),r.a.createElement("div",{className:"".concat(N?"card-value-dark":"card-value"),key:"method"},a.method)),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"Despesa"),r.a.createElement("div",{className:"".concat(N?"card-value-dark text-green-400":"card-value text-green-400"),key:"value"},Number(a.value).toLocaleString("br"))),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"C\xe2mbio"),r.a.createElement("div",{className:"".concat(N?"card-value-dark":"card-value"),key:"convert"},t(a.currency,a.exchangeRates).name)),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"C\xe2mbio utilizado"),r.a.createElement("div",{className:"".concat(N?"card-value-dark":"card-value"),key:"current"},t(a.currency,a.exchangeRates).newAsk)),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"Valor convertido"),r.a.createElement("div",{className:"".concat(N?"card-value-dark text-green-400":"card-value text-green-400"),key:"convertV"},"R$:",Number(t(a.currency,a.exchangeRates,a).converted).toLocaleString("br"))),r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"".concat(N?"card-title-dark":"card-title")},"C\xe2mbio convertido"),r.a.createElement("div",{className:"".concat(N?"card-value-dark":"card-value"),key:"currency"},"Real")),r.a.createElement("div",{className:"flex w-auto h-auto"},r.a.createElement(T.a,{className:"".concat(N?"edit-icon-dark":"edit-icon"),size:"2x",onClick:function(){var t=e.findObjectId(a.id),n=t.value,r=t.description,c=t.currency,l=t.method,s=t.tag;e.setState({editState:!0,id:a.id,value:n,description:r,currency:c,method:l,tag:s})},icon:V.a}),r.a.createElement(T.a,{className:"".concat(N?"delete-icon-dark":"delete-icon"),size:"2x",onClick:Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({editState:!1}),t.next=3,s(a.id);case 3:e.totalField();case 4:case"end":return t.stop()}}),t)}))),icon:V.c})))})))))}}]),a}(r.a.Component),B=A,U=I,$=R,q=Object(i.b)((function(e){return{user:e.user,wallet:e.wallet}}),(function(e){return{addExpense:function(t){return e(B(t))},delExpense:function(t){return e(U(t))},editExpense:function(t){return e($(t))}}}))(X);var J=function(){return r.a.createElement("div",null,r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/walletredux/carteira",component:q}),r.a.createElement(g.a,{path:"/walletredux/login",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s.a,null,r.a.createElement(i.a,{store:b},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.0b852057.chunk.js.map